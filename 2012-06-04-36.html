<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  

  <title>Clean Up a Time Capsule Sparse Image</title>
  <meta name="description" content="Consider you want to remove a bunch of old updates (i.e. of an old Mac) from your Time Capsule (TC). You could erase the whole disk, but usually this is not what you intend to do. Another alternative is to remove the plain sparse bundle containing the old backups. Removing sparse bundles - in particular for &gt;1TB backups - from a TC can be a pain due to the time consumption. This is a result of the approach to split the backup in ~8MB sized directories. 
">
  <meta name="author" content="Dr. Gerolf Ziegenhain">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Clean Up a Time Capsule Sparse Image">
  <meta name="twitter:description" content="Consider you want to remove a bunch of old updates (i.e. of an old Mac) from your Time Capsule (TC). You could erase the whole disk, but usually this is not what you intend to do. Another alternative is to remove the plain sparse bundle containing the old backups. Removing sparse bundles - in particular for &gt;1TB backups - from a TC can be a pain due to the time consumption. This is a result of the approach to split the backup in ~8MB sized directories. 
">
  
  <meta name="twitter:image" content="/images/favicons/favicon-194x194.png" />

  <meta property="og:type" content="article">
  <meta property="og:title" content="Clean Up a Time Capsule Sparse Image">
  <meta property="og:description" content="Consider you want to remove a bunch of old updates (i.e. of an old Mac) from your Time Capsule (TC). You could erase the whole disk, but usually this is not what you intend to do. Another alternative is to remove the plain sparse bundle containing the old backups. Removing sparse bundles - in particular for &gt;1TB backups - from a TC can be a pain due to the time consumption. This is a result of the approach to split the backup in ~8MB sized directories. 
">
  <meta property="og:image" content="/images/favicons/favicon-194x194.png" />

  <link rel="apple-touch-icon" sizes="57x57" href="/images/favicons/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/images/favicons/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/images/favicons/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/images/favicons/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/images/favicons/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/images/favicons/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/images/favicons/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/images/favicons/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-194x194.png" sizes="194x194">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/images/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/images/favicons/manifest.json">
  <link rel="shortcut icon" href="/images/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="msapplication-TileImage" content="/images/favicons/mstile-144x144.png">
  <meta name="theme-color" content="#ffffff">
  
  <link rel="stylesheet" href="/css/main.css?1729453390211275264">
  <link rel="canonical" href="file:///Users/gerolfziegenhain/src/g.ziegenhain.com/_site//2012-06-04-36.html">
  <link rel="alternate" type="application/rss+xml" title="Dr. Gerolf Ziegenhain" href="/feed.xml">
</head>


  <body>
    <span class="mobile btn-mobile-menu">
  <i class="icon icon-list btn-mobile-menu__icon"></i>
  <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
</span>

<header class="panel-cover" style="background-image: url(/images/cover.jpg)">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">
        <a href="/" title="link to home of Dr. Gerolf Ziegenhain">
          <img src="/images/profile.jpg" class="user-image" alt="My Profile Photo">
          <h1 class="panel-cover__title panel-title">Dr. Gerolf Ziegenhain</h1>
        </a>
        <hr class="panel-cover__divider">
        <p class="panel-cover__description">Director Planning and Innovation, DFS</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary">

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item">
                <a href="/#blog" title="link to Dr. Gerolf Ziegenhain blog" class="blog-button">
                  <i class="fas fa-blog"></i>
                </a>
              </li>
              <li class="navigation__item">
                <a href="/publications.html" title="link to Dr. Gerolf Ziegenhain publications" class="publication-button">
                <i class="fas fa-book"></i>
               </a>
              </li>
            </ul>
          </nav>

          <nav class="cover-navigation navigation--social">
            <ul class="navigation">

            
              <!-- LinkedIn -->
              <li class="navigation__item">
                <a href="https://www.linkedin.com/in/gerolfziegenhain" title="gerolfziegenhain on LinkedIn" target="_blank">
                  <i class="fab fa-linkedin"></i>
                  <span class="label">LinkedIn</span>
                </a>
              </li>
            

            
              <!-- LinkedIn -->
              <li class="navigation__item">
                <a href="https://www.xing.com/profile/Gerolf_Ziegenhain" title="Gerolf_Ziegenhain on Xing" target="_blank">
                  <i class="fab fa-xing"></i>
                  <span class="label">Xing</span>
                </a>
              </li>
            

            
              <!-- GitHub -->
              <li class="navigation__item">
                <a href="https://www.github.com/8cH9azbsFifZ" title="8cH9azbsFifZ on GitHub" target="_blank">
                  <i class="fab fa-github"></i>
                  <span class="label">GitHub</span>
                </a>
              </li>
            

            
              <!-- GitHub -->
              <li class="navigation__item">
                <a href="https://www.qrz.com/db/DG6FL" title="DG6FL on QRZ.com" target="_blank">
                  <i class="fas fa-broadcast-tower"></i>
                  <span class="label">QRZ.com</span>
                </a>
              </li>
            

            
              <!-- Email -->
              <li class="navigation__item">
                <a href="mailto:g@ziegenhain.com" title="Email g@ziegenhain.com" target="_blank">
                  <i class="fas fa-envelope"></i>
                  <span class="label">Email</span>
                </a>
              </li>
            

            <!-- RSS -->
            <li class="navigation__item">
              <a href="/feed.xml" title="Subscribe" target="_blank">
                <i class="fas fa-rss"></i>
                <span class="label">RSS</span>
              </a>
            </li>

            </ul>
          </nav>

        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>


    <div class="content-wrapper">
      <div class="content-wrapper__inner">
        <article class="post-container post-container--single">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="2012-06-04 18:42" class="post-meta__date date">4 Jun 2012</time>
      
      &#8226; <span class="post-meta__tags">on <a href="/tags/#Apple">Apple</a>, <a href="/tags/#OSX">OSX</a>, <a href="/tags/#Time Capsule">Time Capsule</a>, <a href="/tags/#Time Machine">Time Machine</a>, <a href="/tags/#Workaround">Workaround</a></span>
      
    </div>
    <h1 class="post-title">Clean Up a Time Capsule Sparse Image</h1>
  </header>

  <section class="post">
    <p>Consider you want to remove a bunch of old updates (i.e. of an old Mac) from your Time Capsule (TC). You could erase the whole disk, but usually this is not what you intend to do. Another alternative is to remove the plain sparse bundle containing the old backups. Removing sparse bundles - in particular for &gt;1TB backups - from a TC can be a pain due to the time consumption. This is a result of the approach to split the backup in ~8MB sized directories. </p>

<p>In the following I present s fast way to clean your TC.</p>

<h4 id="preparation">Preparation:</h4>

<ol>
  <li>
    <p>Mount your TC, become root and do to the folder.</p>
  </li>
  <li>
    <p>Find your XYZ.sparsebundle</p>
  </li>
</ol>

<h4 id="deletion-you-may-want-to-monitor-the-progress-in-a-2nd-terminal-using-df--h">Deletion (you may want to monitor the progress in a 2nd terminal using df -h):</h4>

<p>cd ./XYZ.sparsebundle/bands</p>

<p>for a in {0..9} {a..f}; do for b in {0..9} {a..f}; do for c in {0..9} {a..f}; do for d in {0..9} {a..f}; do echo $a$b$c$d &amp;&amp; rm -drf $a$b$c$d ;done;done;done;done</p>

<p>for a in {0..9} {a..f}; do for b in {0..9} {a..f}; do for c in {0..9} {a..f}; do echo $a$b$c &amp;&amp; rm -drf $a$b$c ;done;done;done</p>

<p>for a in {0..9} {a..f}; do for b in {0..9} {a..f}; do for c in {0..9} {a..f}; do for d in {0..9} {a..f}; do for e in {0..9} {a..f}; do echo $a$b$c$d$e &amp;&amp; rm -drf $a$b$c$d$e ;done;done;done;done;done</p>


  </section>
  
</article>



      </div>

      <footer class="footer">
  <span class="footer__copyright">&copy; 2024 Dr. Gerolf Ziegenhain. All rights reserved.</span>
</footer>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="/js/main.js?1729453390211275264"></script>


    </div>
  </body>
</html>